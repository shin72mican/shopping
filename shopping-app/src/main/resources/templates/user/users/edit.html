<!DOCTYPE html>
<html xmlns:th='http://www.thymeleaf.org'>
<head>
	<!-- Required meta tags -->
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>

	<!-- Bootstrap CSS -->
	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css' >

	<!-- Bootstrap JS -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js'></script>

	<!-- JQuery -->
	<!-- can't use ajax with jQuery slim -->
	<script src='https://code.jquery.com/jquery-3.7.1.min.js'></script>

	<title>users login</title>
</head>
<body class="bg-body-tertiary">
	<div class="container text-center">
		<div style="height: 100vh; width: 100%;" class="bg-body-tertiary d-flex align-items-center justify-content-center">
			<div>
				<span th:each="error:${errors}">
					<p class="text-danger" th:text="${error}"></p>
				</span>
				
<!--				<p th:text="${pass}"></p>-->
				<div class="border border-white bg-white" style="width: 600px;">
					<p class="border p-3">編集</p>
					
					<div class="pt-2 pb-5 ps-5 pe-5">
						<form th:action="@{/users/{id}(id=${user.id})}" th:method="put" enctype="multipart/form-data">
							<div class="m-2">
								<table>
									<tr>
										<td><label style="width: 100px;" class="form-label">ユーザー名</label></td>
										<td><input style="width: 300px;" class="form-control" type="text" name="name" th:value="${user.name}" placeholder="ユーザー名" /></td>
									</tr>
									<tr>
										<td><label style="width: 100px;" class="form-label">メールアドレス</label></td>
										<td><input style="width: 300px;" class="form-control" type="text" name="email" th:value="${user.email}" placeholder="メールアドレス" /></td>
									</tr>
									<tr>
										<td><label class="form-label">パスワード</label></td>
										<td><input style="width: 300px;" class="form-control" type="password" name="password" th:value="${password}" placeholder="パスワード" /></td>
									</tr>
									<tr>
										<td><label class="form-label">パスワード(確認)</label></td>
										<td><input style="width: 300px;" class="form-control" type="password" name="confirm_password" th:value="${comfilmPassword}" placeholder="パスワード(確認)" /></td>
									</tr>
									<tr>
										<td><label class="form-label">イメージ</label></td>
										<td><input class="form-control" type="file" name="user_image" /></td>
									</tr>
									<tr>
										<td></td>
										<td>
											<input class="form-check-input" type="checkbox" name="delete_check" value="true" />
											<label class="form-check-label">
												削除
											</label>
										</td>
									</tr>
									<tr>
										<td></td>
										<td><img style="width: 100px; height: 100px;" th:src="${user.imagePath}" onerror="this.src='/images/no_image.png'"></td>
									</tr>
								</table>
							</div>
							
							<button style="width: 300px;" class="btn btn-info">更新</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>